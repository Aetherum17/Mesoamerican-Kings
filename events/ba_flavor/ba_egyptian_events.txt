namespace = ba_egyptian

ba_egyptian.0001 = {
	type = character_event
	title = ba_egyptian.0001.t
	desc = ba_egyptian.0001.desc

	left_portrait = scope:adoptee
	theme = family

	trigger = {
		is_ruler = yes
		faith = {
			has_doctrine_parameter = infanticide_none
			religion_tag = egyptian_religion_group
		}
		capital_province = {
			geographical_region = world_nile_valley
		}
		NOT = { has_character_flag = ba_had_adoptee }
	}

	immediate = {
		random_list = {
			10 = {
				trigger = {
					current_date >= 1200
				}
				create_character = {
					age = 0
					gender_female_chance = 66
					culture = culture:hyksos
					faith = faith:hyksos_religion
					dynasty = none
					location = root.location
					save_scope_as = adoptee
				}
			}
			10 = {
				create_character = {
					age = 0
					gender_female_chance = 66
					culture = culture:nubian
					faith = faith:kushite_religion
					dynasty = none
					location = root.location
					save_scope_as = adoptee
				}
			}
			10 = {
				trigger = {
					current_date < 1200
				}
				create_character = {
					age = 0
					gender_female_chance = 66
					culture = culture:canaanite
					faith = faith:canaanite_religion
					dynasty = none
					location = root.location
					save_scope_as = adoptee
				}
			}
		}
		add_character_flag = ba_had_adoptee
	}
	widgets = {
		widget = {
			is_shown = {
				allow_naming_on_birth_of_child_trigger = { CHILD = scope:adoptee }
			}
			gui = "event_window_widget_name_child"
			container = "dynamic_birth_name"
			controller = name_character
			setup_scope = { scope:adoptee = { save_scope_as = name_character_target } }
		}
	}
	option = { #Adopt child
		name = ba_egyptian.0001.a
		stress_impact = {
			zealous = medium_stress_impact_loss
			compassionate = major_stress_impact_loss
			callous = medium_stress_impact_gain
			sadistic = major_stress_impact_gain
			cynical = medium_stress_impact_gain
		}
		add_piety = 250
		scope:adoptee = { 
			set_culture_same_as = root
			set_character_faith = root.faith
			if = { limit = { root = { is_male = yes } }
				set_father = root
			}
			set_house = root.house
		}

	}
	option = { #Reject Child
		name = ba_egyptian.0001.b
		stress_impact = {
			compassionate = major_stress_impact_gain
			callous = medium_stress_impact_loss
			sadistic = major_stress_impact_loss
			cynical = medium_stress_impact_loss
		}
		add_piety = -100
		hidden_effect = {
			scope:adoptee = {
				death = natural
			}
		}
	}
}
